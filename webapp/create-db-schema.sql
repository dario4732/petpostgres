CREATE TABLE pets.Pet (id BIGINT NOT NULL, name VARCHAR(40) NOT NULL, notes VARCHAR(4000), petSpecies VARCHAR(255) NOT NULL, version BIGINT NOT NULL, owner_id BIGINT, PRIMARY KEY (id))
CREATE TABLE pets.PetOwner (id BIGINT NOT NULL, emailAddress VARCHAR(100), firstName VARCHAR(40), lastName VARCHAR(40) NOT NULL, notes VARCHAR(4000), phoneNumber VARCHAR(30), version BIGINT NOT NULL, PRIMARY KEY (id))
CREATE TABLE visits.Visit (id BIGINT NOT NULL, reason VARCHAR(40) NOT NULL, version BIGINT NOT NULL, visitAt TIMESTAMP NOT NULL, pet_id BIGINT, PRIMARY KEY (id))
ALTER TABLE pets.Pet ADD CONSTRAINT Pet__owner_name__UNQ UNIQUE (owner_id, name)
ALTER TABLE pets.PetOwner ADD CONSTRAINT PetOwner__lastName__UNQ UNIQUE (lastName)
ALTER TABLE visits.Visit ADD CONSTRAINT Visit__pet_visitAt__UNQ UNIQUE (owner_id, name)
ALTER TABLE pets.Pet ADD CONSTRAINT FK_Pet_owner_id FOREIGN KEY (owner_id) REFERENCES pets.PetOwner (id)
ALTER TABLE visits.Visit ADD CONSTRAINT FK_Visit_pet_id FOREIGN KEY (pet_id) REFERENCES pets.Pet (id)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
